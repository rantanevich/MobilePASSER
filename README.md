[![Build Status](https://travis-ci.org/rantanevich/MobilePASSER.svg?branch=python)](https://travis-ci.org/rantanevich/MobilePASSER)

MobilePASSER is a tool that generates OTP based on activation code from SafeNet MobilePASS.

SafeNet MobilePASS does not use time-based algorithm. It uses a counter which saves its state in the file. When we push "Generate Passcode" the couter retrieves last state from the file, incremets value, generates token and saves state into the file.

You can find more details in the article: [http://sbudella.altervista.org/blog/20180128-mobilepass.html](http://sbudella.altervista.org/blog/20180128-mobilepass.html)

Requirements
------------

You need Python 3.6.1 or later.

Installation
------------

Use the package manager `pip` to install MobilePASS.
```
pip install MobilePASS
```

Usage
-----

```bash
$ mobilepass --help
usage: mobilepass [-h] [-c CONFIG] [-k KEY] [-i INDEX] [-p POLICY] [-u]

Generate OTP based on activation code from SafeNet MobilePASS

optional arguments:
  -h, --help            show this help message and exit
  -c CONFIG, --config CONFIG
                        path to the configuration file
  -k KEY, --key KEY     activation code is generated by SafeNet MobilePASS
  -i INDEX, --index INDEX
                        the index number of the one-time passcode
  -p POLICY, --policy POLICY
                        token policy string
  -u, --update          automatically increses the index by 1 and saves to config file
```

Configuration
-------------

You can save parameters into the configuration file. Default path is `~/.mobilepasser.cfg`

Example content:
```
[MobilePASS]
ActivationCode  = QVKYC-FM6KO-SY6F7-TR22W
Policy          =
Index           = 0
AutoUpdateIndex = true
```
The section name `[MobilePASS]` is case-sensive, but options are not.